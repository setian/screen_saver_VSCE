{
  "version": 3,
  "sources": ["../src/extension.ts"],
  "sourcesContent": ["import * as vscode from 'vscode';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nconst BUILT_IN_FALLBACK_SNIPPETS: ReadonlyArray<{ code: string; languageId: string }> = [\n    {\n        code: '// Offline fallback: add entries to docs/code-pack.json (or .md) to customize snippets.',\n        languageId: 'plaintext'\n    }\n];\n\nlet webviewPanel: vscode.WebviewPanel | undefined;\nlet idleTimer: NodeJS.Timeout | undefined;\nlet lastRepositoryKey: string | undefined;\nlet lastKnownLanguageId = 'plaintext';\nconst repoCooldowns = new Map<string, number>();\nlet resetIdleTimerRef: (() => void) | undefined;\nlet codePackSnippets: { code: string; languageId: string }[] = [];\n\n// --- Repository cache ---\ninterface RepoFileEntry {\n    path: string;\n    size: number;\n}\n\nconst REPO_CACHE_DURATION_MS = 6 * 60 * 60 * 1000; // 6 hours\n\nconst LANGUAGE_ALIASES: Record<string, string> = {\n    'javascriptreact': 'javascript',\n    'typescriptreact': 'typescript',\n    'react': 'javascript',\n    'c++': 'cpp',\n    'objective-c++': 'cpp',\n    'objective-c': 'c',\n    'shellscript': 'shell',\n    'shell': 'shell',\n    'bash': 'shell',\n    'zsh': 'shell',\n    'sh': 'shell',\n    'jsonc': 'json',\n    'json5': 'json',\n    'md': 'plaintext',\n    'markdown': 'plaintext',\n    'c#': 'csharp',\n    'cs': 'csharp',\n    'ps': 'powershell',\n    'ps1': 'powershell',\n    'psm1': 'powershell',\n    'psd1': 'powershell',\n    'powershellscript': 'powershell',\n    'yml': 'yaml',\n    'ts': 'typescript',\n    'py': 'python',\n    'rb': 'ruby'\n};\n\nconst LANGUAGE_EXTENSION_MAP: Record<string, string[]> = {\n    'brainfuck': ['.bf'],\n    'c': ['.c', '.h'],\n    'csharp': ['.cs'],\n    'cpp': ['.cc', '.cpp', '.cxx', '.hpp', '.hh', '.hxx'],\n    'css': ['.css'],\n    'go': ['.go'],\n    'html': ['.html', '.htm'],\n    'java': ['.java'],\n    'javascript': ['.js', '.jsx', '.mjs', '.cjs'],\n    'json': ['.json'],\n    'kotlin': ['.kt'],\n    'lua': ['.lua'],\n    'php': ['.php'],\n    'powershell': ['.ps1', '.psm1'],\n    'python': ['.py'],\n    'ruby': ['.rb'],\n    'rust': ['.rs'],\n    'scala': ['.scala'],\n    'shell': ['.sh', '.bash', '.zsh'],\n    'sql': ['.sql'],\n    'swift': ['.swift'],\n    'typescript': ['.ts', '.tsx'],\n    'yaml': ['.yml', '.yaml'],\n    'plaintext': ['.md', '.markdown', '.txt']\n};\n\nconst KNOWN_TEXT_EXTENSIONS = new Set(Object.values(LANGUAGE_EXTENSION_MAP).flat());\n\nconst MAX_REPO_ATTEMPTS = 6;\nconst NON_PRINTABLE_THRESHOLD = 0.12;\n\nfunction logWithTimestamp(\n    message: string,\n    level: 'log' | 'warn' | 'error' = 'log',\n    ...optionalParams: unknown[]\n): void {\n    const timestamp = new Date().toLocaleTimeString();\n    const formattedMessage = `[${timestamp}] ${message}`;\n    switch (level) {\n        case 'warn':\n            console.warn(formattedMessage, ...optionalParams);\n            break;\n        case 'error':\n            console.error(formattedMessage, ...optionalParams);\n            break;\n        default:\n            console.log(formattedMessage, ...optionalParams);\n            break;\n    }\n}\n\ninterface SnippetRepository {\n    label: string;\n    owner: string;\n    repo: string;\n    branch?: string;\n    license: string;\n    licenseUrl?: string;\n    languages: string[];\n}\n\ninterface RepoCache {\n    entries: RepoFileEntry[];\n    timestamp: number;\n    branch: string;\n}\n\nconst SNIPPET_REPOSITORIES: SnippetRepository[] = [\n    {\n        label: 'TheAlgorithms \u00B7 Python',\n        owner: 'TheAlgorithms',\n        repo: 'Python',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/TheAlgorithms/Python/blob/master/LICENSE',\n        languages: ['python']\n    },\n    {\n        label: 'TheAlgorithms \u00B7 JavaScript',\n        owner: 'TheAlgorithms',\n        repo: 'JavaScript',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/TheAlgorithms/JavaScript/blob/master/LICENSE',\n        languages: ['javascript', 'typescript']\n    },\n    {\n        label: 'TheAlgorithms \u00B7 Java',\n        owner: 'TheAlgorithms',\n        repo: 'Java',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/TheAlgorithms/Java/blob/master/LICENSE',\n        languages: ['java']\n    },\n    {\n        label: 'TheAlgorithms \u00B7 C',\n        owner: 'TheAlgorithms',\n        repo: 'C',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/TheAlgorithms/C/blob/main/LICENSE',\n        languages: ['c']\n    },\n    {\n        label: 'TheAlgorithms \u00B7 C++',\n        owner: 'TheAlgorithms',\n        repo: 'C-Plus-Plus',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/TheAlgorithms/C-Plus-Plus/blob/master/LICENSE',\n        languages: ['cpp']\n    },\n    {\n        label: 'TheAlgorithms \u00B7 Go',\n        owner: 'TheAlgorithms',\n        repo: 'Go',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/TheAlgorithms/Go/blob/master/LICENSE',\n        languages: ['go']\n    },\n    {\n        label: 'TheAlgorithms \u00B7 Rust',\n        owner: 'TheAlgorithms',\n        repo: 'Rust',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/TheAlgorithms/Rust/blob/master/LICENSE',\n        languages: ['rust']\n    },\n    {\n        label: 'TheAlgorithms \u00B7 Kotlin',\n        owner: 'TheAlgorithms',\n        repo: 'Kotlin',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/TheAlgorithms/Kotlin/blob/master/LICENSE',\n        languages: ['kotlin']\n    },\n    {\n        label: '30 Seconds of Code',\n        owner: '30-seconds',\n        repo: '30-seconds-of-code',\n        license: 'CC0 1.0 Universal',\n        licenseUrl: 'https://github.com/30-seconds/30-seconds-of-code/blob/master/LICENSE',\n        languages: ['javascript', 'typescript', 'react']\n    },\n    {\n        label: '1loc',\n        owner: 'phuoc-ng',\n        repo: '1loc',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/phuoc-ng/1loc/blob/master/LICENSE',\n        languages: ['javascript']\n    },\n    {\n        label: 'leachim6 \u00B7 Hello World',\n        owner: 'leachim6',\n        repo: 'hello-world',\n        license: 'CC BY 4.0',\n        licenseUrl: 'https://github.com/leachim6/hello-world/blob/master/LICENSE',\n        languages: ['plaintext', 'c', 'cpp', 'java', 'javascript', 'python', 'ruby', 'go', 'rust', 'swift', 'kotlin', 'brainfuck']\n    },\n    {\n        label: 'LydiaHallie \u00B7 JavaScript Questions',\n        owner: 'lydiahallie',\n        repo: 'javascript-questions',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/lydiahallie/javascript-questions/blob/main/LICENSE',\n        languages: ['javascript', 'typescript', 'plaintext']\n    },\n    {\n        label: 'denysdovhan \u00B7 wtfjs',\n        owner: 'denysdovhan',\n        repo: 'wtfjs',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/denysdovhan/wtfjs/blob/master/LICENSE',\n        languages: ['javascript', 'typescript', 'plaintext']\n    },\n    {\n        label: 'satwikkansal \u00B7 wtfpython',\n        owner: 'satwikkansal',\n        repo: 'wtfpython',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/satwikkansal/wtfpython/blob/master/LICENSE',\n        languages: ['python', 'plaintext']\n    },\n    {\n        label: '30 Seconds of Interviews',\n        owner: '30-seconds',\n        repo: '30-seconds-of-interviews',\n        license: 'MIT',\n        licenseUrl: 'https://github.com/30-seconds/30-seconds-of-interviews/blob/master/LICENSE',\n        languages: ['javascript', 'typescript', 'plaintext']\n    },\n    {\n        label: 'awesome-programming-quotes',\n        owner: 'ashishb',\n        repo: 'awesome-programming-quotes',\n        license: 'See repository license',\n        licenseUrl: 'https://github.com/ashishb/awesome-programming-quotes',\n        languages: ['plaintext']\n    },\n    {\n        label: 'programming-memes',\n        owner: 'abhisheknaiidu',\n        repo: 'programming-memes',\n        license: 'See repository license',\n        licenseUrl: 'https://github.com/abhisheknaiidu/programming-memes',\n        languages: ['plaintext']\n    }\n];\n\nconst LANGUAGE_TO_REPOSITORIES = SNIPPET_REPOSITORIES.reduce<Record<string, SnippetRepository[]>>((acc, repository) => {\n    for (const lang of repository.languages) {\n        if (!acc[lang]) {\n            acc[lang] = [];\n        }\n        acc[lang].push(repository);\n    }\n    return acc;\n}, {});\n\nconst repoCaches = new Map<string, RepoCache>();\nconst repoBranchCache = new Map<string, string>();\n\nfunction normalizeLanguageId(languageId: string | undefined): string {\n    if (!languageId) {\n        return 'plaintext';\n    }\n    const lowered = languageId.toLowerCase();\n    return LANGUAGE_ALIASES[lowered] ?? lowered;\n}\n\nfunction getActiveOrLastLanguageId(): string {\n    const activeEditorLanguage = vscode.window.activeTextEditor?.document.languageId;\n    if (activeEditorLanguage) {\n        lastKnownLanguageId = activeEditorLanguage;\n    }\n    return lastKnownLanguageId;\n}\n\nfunction getExtensionsForLanguage(languageId: string): string[] {\n    return LANGUAGE_EXTENSION_MAP[languageId] ?? [];\n}\n\nfunction inferLanguageFromPath(filePath: string): string | undefined {\n    const extension = path.extname(filePath).toLowerCase();\n    if (!extension) {\n        return undefined;\n    }\n\n    for (const [language, extensions] of Object.entries(LANGUAGE_EXTENSION_MAP)) {\n        if (extensions.includes(extension)) {\n            return language;\n        }\n    }\n\n    return undefined;\n}\n\nfunction isRepoFileMetadataSafe(filePath: string, size: number | undefined): boolean {\n    const lowerPath = filePath.toLowerCase();\n    const fileExtension = path.extname(lowerPath);\n\n    if (fileExtension && !KNOWN_TEXT_EXTENSIONS.has(fileExtension)) {\n        return false;\n    }\n\n    if (typeof size === 'number' && size > 120000) {\n        return false;\n    }\n\n    return true;\n}\n\nfunction isContentSafe(content: string): boolean {\n    if (!content || typeof content !== 'string') {\n        return false;\n    }\n\n    return !hasBinarySignature(content);\n}\n\nfunction hasBinarySignature(content: string): boolean {\n    if (!content.length) {\n        return false;\n    }\n\n    let nonPrintable = 0;\n    for (let i = 0; i < content.length; i++) {\n        const code = content.charCodeAt(i);\n        if (code === 9 || code === 10 || code === 13) {\n            continue;\n        }\n\n        if (code === 0 || code === 65533 || code < 32) {\n            nonPrintable++;\n        }\n    }\n\n    return (nonPrintable / content.length) > NON_PRINTABLE_THRESHOLD;\n}\n\nfunction shuffle<T>(items: T[]): T[] {\n    const clone = [...items];\n    for (let i = clone.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [clone[i], clone[j]] = [clone[j], clone[i]];\n    }\n    return clone;\n}\n\nfunction getRepoCacheKey(repository: SnippetRepository): string {\n    return `${repository.owner}/${repository.repo}`;\n}\n\nfunction setRepositoryCooldown(repository: SnippetRepository, resetEpochMs?: number) {\n    const key = getRepoCacheKey(repository);\n    const now = Date.now();\n    const cooldownUntil = typeof resetEpochMs === 'number' && resetEpochMs > now\n        ? resetEpochMs\n        : now + 15 * 60 * 1000;\n    repoCooldowns.set(key, cooldownUntil);\n    const resumeAt = new Date(cooldownUntil).toLocaleTimeString();\n    logWithTimestamp(`GitHub rate limit hit for ${repository.label}. Cooling down until ${resumeAt}.`, 'warn');\n}\n\nfunction isRepositoryOnCooldown(repository: SnippetRepository): boolean {\n    const key = getRepoCacheKey(repository);\n    const until = repoCooldowns.get(key);\n    if (!until) {\n        return false;\n    }\n    if (Date.now() < until) {\n        return true;\n    }\n    repoCooldowns.delete(key);\n    return false;\n}\n\nasync function resolveBranch(repository: SnippetRepository): Promise<string> {\n    const cacheKey = getRepoCacheKey(repository);\n    if (repoBranchCache.has(cacheKey)) {\n        return repoBranchCache.get(cacheKey)!;\n    }\n\n    if (repository.branch) {\n        repoBranchCache.set(cacheKey, repository.branch);\n        return repository.branch;\n    }\n\n    const repoMetaUrl = `https://api.github.com/repos/${repository.owner}/${repository.repo}`;\n    try {\n        const response = await fetch(repoMetaUrl);\n        if (response.status === 403) {\n            const resetHeader = response.headers.get('X-RateLimit-Reset');\n            const resetEpochMs = resetHeader ? parseInt(resetHeader, 10) * 1000 : undefined;\n            setRepositoryCooldown(repository, resetEpochMs);\n            throw new Error('GitHub API rate limit exceeded');\n        }\n        if (response.ok) {\n            const data = await response.json();\n            const defaultBranch = typeof data?.default_branch === 'string' ? data.default_branch : 'master';\n            repoBranchCache.set(cacheKey, defaultBranch);\n            return defaultBranch;\n        }\n        logWithTimestamp(\n            `Failed to resolve default branch for ${repository.label}. Falling back to 'master'.`,\n            'warn'\n        );\n    } catch (error: any) {\n        logWithTimestamp(`Error resolving branch for ${repository.label}.`, 'warn', error);\n    }\n\n    repoBranchCache.set(cacheKey, 'master');\n    return 'master';\n}\n\nfunction buildTreeUrl(repository: SnippetRepository, branch: string): string {\n    return `https://api.github.com/repos/${repository.owner}/${repository.repo}/git/trees/${branch}?recursive=1`;\n}\n\nfunction buildRawUrl(repository: SnippetRepository, branch: string, filePath: string): string {\n    return `https://raw.githubusercontent.com/${repository.owner}/${repository.repo}/${branch}/` +\n        encodeURI(filePath).replace(/#/g, '%23');\n}\n\nfunction buildLicenseHeader(repository: SnippetRepository, branch: string, filePath: string): string {\n    const source = `// Source: https://github.com/${repository.owner}/${repository.repo}/blob/${branch}/${filePath}`;\n    const license = repository.licenseUrl\n        ? `// License: ${repository.license} (${repository.licenseUrl})`\n        : `// License: ${repository.license}`;\n    return `${source}\\n${license}\\n\\n`;\n}\n\nfunction removeRepoFileFromCache(repository: SnippetRepository, filePath: string) {\n    const cacheKey = getRepoCacheKey(repository);\n    const cache = repoCaches.get(cacheKey);\n    if (!cache) {\n        return;\n    }\n\n    cache.entries = cache.entries.filter(entry => entry.path !== filePath);\n    repoCaches.set(cacheKey, cache);\n}\n\nasync function refreshRepoCache(repository: SnippetRepository): Promise<void> {\n    try {\n        const branch = await resolveBranch(repository);\n        logWithTimestamp(`Fetching repository tree from GitHub for ${repository.label} (${branch}).`);\n        const response = await fetch(buildTreeUrl(repository, branch));\n        if (response.status === 403) {\n            const resetHeader = response.headers.get('X-RateLimit-Reset');\n            const resetEpochMs = resetHeader ? parseInt(resetHeader, 10) * 1000 : undefined;\n            setRepositoryCooldown(repository, resetEpochMs);\n            repoCaches.delete(getRepoCacheKey(repository));\n            return;\n        }\n        if (!response.ok) {\n            throw new Error(`Failed to fetch repository tree: ${response.status}`);\n        }\n\n        const data = await response.json();\n        const treeEntries = Array.isArray(data?.tree) ? data.tree : [];\n\n        const freshEntries: RepoFileEntry[] = treeEntries\n            .filter((entry: any) => entry?.type === 'blob' && typeof entry?.path === 'string')\n            .map((entry: any) => ({\n                path: entry.path as string,\n                size: typeof entry.size === 'number' ? entry.size : 0\n            }))\n            .filter(entry => isRepoFileMetadataSafe(entry.path, entry.size));\n\n        repoCaches.set(getRepoCacheKey(repository), {\n            entries: freshEntries,\n            timestamp: Date.now(),\n            branch\n        });\n        logWithTimestamp(`Cached ${freshEntries.length} files from ${repository.label}.`);\n    } catch (error: any) {\n        logWithTimestamp(`Error refreshing repository cache for ${repository.label}.`, 'error', error);\n        repoCaches.delete(getRepoCacheKey(repository));\n    }\n}\n\nasync function ensureRepoCache(repository: SnippetRepository): Promise<RepoCache | undefined> {\n    if (isRepositoryOnCooldown(repository)) {\n        const key = getRepoCacheKey(repository);\n        const until = repoCooldowns.get(key) ?? 0;\n        logWithTimestamp(\n            `${repository.label} is on cooldown until ${new Date(until).toLocaleTimeString()}. Skipping.`,\n            'warn'\n        );\n        return undefined;\n    }\n\n    const cacheKey = getRepoCacheKey(repository);\n    const cache = repoCaches.get(cacheKey);\n    const now = Date.now();\n\n    if (!cache || (now - cache.timestamp > REPO_CACHE_DURATION_MS) || cache.entries.length === 0) {\n        await refreshRepoCache(repository);\n    }\n\n    return repoCaches.get(cacheKey);\n}\n\nasync function tryFetchFromRepository(\n    repository: SnippetRepository,\n    normalizedLang: string,\n    extensions: string[]\n): Promise<{ code: string; languageId: string } | undefined> {\n    const cache = await ensureRepoCache(repository);\n    if (!cache || cache.entries.length === 0) {\n        logWithTimestamp(`Repository cache empty for ${repository.label}.`, 'warn');\n        return undefined;\n    }\n\n    const { entries, branch } = cache;\n    const repoLabel = repository.label;\n    const candidatePool = extensions.length > 0\n        ? entries.filter(entry => extensions.some(ext => entry.path.toLowerCase().endsWith(ext)))\n        : entries;\n\n    if (candidatePool.length === 0) {\n        logWithTimestamp(`No files with extensions ${extensions.join(', ')} in ${repoLabel}.`, 'warn');\n        if (!repository.languages.includes(normalizedLang)) {\n            return undefined;\n        }\n    }\n\n    const selectionPool = candidatePool.length > 0 ? candidatePool : entries;\n    if (selectionPool.length === 0) {\n        logWithTimestamp(`No entries available in ${repoLabel}.`, 'warn');\n        return undefined;\n    }\n\n    const attempts = Math.min(MAX_REPO_ATTEMPTS, selectionPool.length);\n    const shuffledEntries = shuffle(selectionPool).slice(0, attempts);\n\n    for (const entry of shuffledEntries) {\n        try {\n            const rawUrl = buildRawUrl(repository, branch, entry.path);\n            const response = await fetch(rawUrl);\n            if (!response.ok) {\n                logWithTimestamp(`Failed to download ${entry.path} from ${repoLabel}.`, 'warn');\n                removeRepoFileFromCache(repository, entry.path);\n                continue;\n            }\n\n            const content = await response.text();\n            if (!isContentSafe(content)) {\n                logWithTimestamp(`File flagged as unsafe: ${entry.path} (${repoLabel}).`, 'warn');\n                removeRepoFileFromCache(repository, entry.path);\n                continue;\n            }\n\n            const finalCode = content.length > 20000\n                ? '// Repository content is too large to display.'\n                : content;\n\n            const inferredLanguage = inferLanguageFromPath(entry.path) ?? normalizedLang ?? 'plaintext';\n            const languageMatches = inferredLanguage === normalizedLang;\n            const prefixMessage = languageMatches\n                ? ''\n                : `// Could not find a '${normalizedLang}' file. Displaying '${inferredLanguage}'.\\n\\n`;\n\n            const licenseHeader = buildLicenseHeader(repository, branch, entry.path);\n\n            logWithTimestamp(`Loaded snippet from ${entry.path} (${repoLabel}).`);\n            lastRepositoryKey = getRepoCacheKey(repository);\n            return {\n                code: licenseHeader + prefixMessage + finalCode,\n                languageId: inferredLanguage\n            };\n        } catch (error: any) {\n            logWithTimestamp(`Failed to process ${entry.path} from ${repoLabel}.`, 'warn', error);\n            removeRepoFileFromCache(repository, entry.path);\n        }\n    }\n\n    return undefined;\n}\n\nasync function fetchRandomRepoSnippet(languageId: string): Promise<{ code: string; languageId: string }> {\n    const normalizedLang = normalizeLanguageId(languageId);\n    const extensions = getExtensionsForLanguage(normalizedLang);\n\n    const preferredRepos = LANGUAGE_TO_REPOSITORIES[normalizedLang] ?? [];\n    const preferredKeys = new Set(preferredRepos.map(repo => getRepoCacheKey(repo)));\n    const fallbackRepos = SNIPPET_REPOSITORIES.filter(repo => !preferredKeys.has(getRepoCacheKey(repo)));\n\n    const filteredPreferred = preferredRepos.filter(repo => getRepoCacheKey(repo) !== lastRepositoryKey);\n    const filteredFallback = fallbackRepos.filter(repo => getRepoCacheKey(repo) !== lastRepositoryKey);\n\n    const repositoriesToTry: SnippetRepository[] = [\n        ...shuffle(filteredPreferred.length > 0 ? filteredPreferred : []),\n        ...shuffle(filteredFallback)\n    ];\n\n    if (lastRepositoryKey) {\n        const lastRepo = SNIPPET_REPOSITORIES.find(repo => getRepoCacheKey(repo) === lastRepositoryKey);\n        if (lastRepo) {\n            repositoriesToTry.push(lastRepo);\n        }\n    }\n\n    for (const repository of repositoriesToTry) {\n        logWithTimestamp(`Trying ${repository.label} for '${normalizedLang}' snippets.`);\n        const result = await tryFetchFromRepository(repository, normalizedLang, extensions);\n        if (result) {\n            return result;\n        }\n    }\n\n    logWithTimestamp('No suitable repository file found after checking all sources. Using fallback snippet.', 'warn');\n    lastRepositoryKey = undefined;\n    return getRandomFallbackSnippet(normalizedLang);\n}\n\nasync function showScreenSaver(context: vscode.ExtensionContext) {\n    if (webviewPanel) {\n        logWithTimestamp('Screen saver already open. Revealing existing panel.');\n        webviewPanel.reveal(vscode.ViewColumn.One);\n        return;\n    }\n\n    logWithTimestamp('Creating screen saver webview.');\n    webviewPanel = vscode.window.createWebviewPanel(\n        'screenSaver',\n        'Screen Saver',\n        vscode.ViewColumn.One,\n        {\n            enableScripts: true,\n            localResourceRoots: [vscode.Uri.joinPath(context.extensionUri, 'media')]\n        }\n    );\n\n    webviewPanel.webview.html = getWebviewContent(context, webviewPanel.webview);\n\n    webviewPanel.onDidDispose(() => {\n        logWithTimestamp('Screen saver webview disposed.');\n        webviewPanel = undefined;\n    }, null, context.subscriptions);\n\n    webviewPanel.webview.onDidReceiveMessage(async message => {\n        const langId = getActiveOrLastLanguageId();\n        switch (message.command) {\n            case 'exitScreenSaver':\n                logWithTimestamp('Received exit command from webview.');\n                if (webviewPanel) webviewPanel.dispose();\n                break;\n            case 'requestNewGist':\n                logWithTimestamp(`Webview requested new snippet for '${langId}'.`);\n                const newContent = await fetchRandomRepoSnippet(langId);\n                if (webviewPanel) {\n                    webviewPanel.webview.postMessage({ command: 'loadCode', ...newContent });\n                }\n                break;\n            case 'userActivity':\n                resetIdleTimerRef?.();\n                break;\n        }\n    }, undefined, context.subscriptions);\n\n    const initialLangId = getActiveOrLastLanguageId();\n    const configuration = vscode.workspace.getConfiguration('screenSaver');\n    const typingSpeed = configuration.get<number>('typingSpeed', 40);\n\n    logWithTimestamp(`Loading initial snippet for '${initialLangId}'.`);\n    const initialContent = await fetchRandomRepoSnippet(initialLangId);\n\n    if (webviewPanel) {\n        webviewPanel.webview.postMessage({ command: 'loadCode', typingSpeed, ...initialContent });\n        logWithTimestamp('Initial snippet sent to webview.');\n    }\n}\n\nfunction getWebviewContent(context: vscode.ExtensionContext, webview: vscode.Webview): string {\n    const htmlPath = vscode.Uri.joinPath(context.extensionUri, 'media', 'webview.html');\n    if (!fs.existsSync(htmlPath.fsPath)) {\n        return `<html><body><h1>Error: webview.html not found!</h1></body></html>`;\n    }\n    const baseHtml = fs.readFileSync(htmlPath.fsPath, 'utf8');\n\n    const styleUri = webview.asWebviewUri(vscode.Uri.joinPath(context.extensionUri, 'media', 'styles.css'));\n    const scriptUri = webview.asWebviewUri(vscode.Uri.joinPath(context.extensionUri, 'media', 'main.js'));\n\n    return baseHtml\n        .replace(/\\{\\{cspSource\\}\\}/g, webview.cspSource)\n        .replace(/\\{\\{styleUri\\}\\}/g, styleUri.toString())\n        .replace(/\\{\\{scriptUri\\}\\}/g, scriptUri.toString());\n}\n\nexport function activate(context: vscode.ExtensionContext) {\n    logWithTimestamp('\"coding-screensaver\" is now active.');\n\n    // Try to load dynamic code-pack snippets from docs/code-pack.md (optional).\n    try {\n        loadCodePackSnippets(context);\n        if (codePackSnippets.length > 0) {\n            logWithTimestamp(`Loaded ${codePackSnippets.length} code-pack fallback snippets.`);\n        }\n    } catch (err: any) {\n        logWithTimestamp('Failed to load code-pack snippets.', 'warn', err);\n    }\n\n    const resetIdleTimer = () => {\n        if (idleTimer) {\n            clearTimeout(idleTimer);\n        }\n        getActiveOrLastLanguageId();\n        if (!vscode.window.state.focused) {\n            logWithTimestamp('Window not focused. Idle timer paused.');\n            return;\n        }\n\n        const configuration = vscode.workspace.getConfiguration('screenSaver');\n        const idleTime = configuration.get<number>('idleTimeSeconds', 300);\n        if (idleTime > 0) {\n            const triggerAt = new Date(Date.now() + idleTime * 1000);\n            logWithTimestamp(\n                `Idle timer armed for ${idleTime} seconds. Scheduled at ${triggerAt.toLocaleTimeString()}.`\n            );\n            idleTimer = setTimeout(() => {\n                logWithTimestamp('Idle timer elapsed. Launching screen saver.');\n                showScreenSaver(context);\n            }, idleTime * 1000);\n        } else {\n            logWithTimestamp('Idle timer disabled via configuration.');\n        }\n    };\n    resetIdleTimerRef = resetIdleTimer;\n\n    // Reset timer on any text change, selection change, editor change, or scroll.\n    context.subscriptions.push(vscode.workspace.onDidChangeTextDocument(() => resetIdleTimer()));\n    context.subscriptions.push(vscode.window.onDidChangeTextEditorSelection(() => resetIdleTimer()));\n    context.subscriptions.push(vscode.window.onDidChangeActiveTextEditor(() => resetIdleTimer()));\n    context.subscriptions.push(vscode.window.onDidChangeTextEditorVisibleRanges(() => resetIdleTimer())); // For scrolling\n    context.subscriptions.push(vscode.window.onDidChangeActiveTerminal(() => resetIdleTimer()));\n    context.subscriptions.push(vscode.window.onDidOpenTerminal(() => resetIdleTimer()));\n    context.subscriptions.push(vscode.window.onDidCloseTerminal(() => resetIdleTimer()));\n    if (vscode.window.onDidChangeActiveNotebookEditor) {\n        context.subscriptions.push(vscode.window.onDidChangeActiveNotebookEditor(() => resetIdleTimer()));\n    }\n    if (vscode.window.onDidChangeVisibleNotebookEditors) {\n        context.subscriptions.push(vscode.window.onDidChangeVisibleNotebookEditors(() => resetIdleTimer()));\n    }\n    const onDidWriteTerminalData = (vscode.window as any).onDidWriteTerminalData as vscode.Event<unknown> | undefined;\n    if (onDidWriteTerminalData) {\n        context.subscriptions.push(onDidWriteTerminalData(() => resetIdleTimer()));\n    }\n\n    context.subscriptions.push(vscode.window.onDidChangeVisibleTextEditors(() => resetIdleTimer()));\n    context.subscriptions.push(vscode.workspace.onDidOpenTextDocument(() => resetIdleTimer()));\n    context.subscriptions.push(vscode.workspace.onDidCloseTextDocument(() => resetIdleTimer()));\n    if ((vscode.workspace as any).onDidChangeNotebookDocument) {\n        context.subscriptions.push((vscode.workspace as any).onDidChangeNotebookDocument(() => resetIdleTimer()));\n    }\n    if (typeof (vscode.commands as any).onDidExecuteCommand === 'function') {\n        context.subscriptions.push(vscode.commands.onDidExecuteCommand(event => {\n            if (!event?.command?.startsWith('screenSaver.')) {\n                resetIdleTimer();\n            }\n        }));\n    }\n\n    context.subscriptions.push(vscode.window.onDidChangeWindowState(windowState => {\n        if (windowState.focused) {\n            resetIdleTimer();\n        } else {\n            if (idleTimer) clearTimeout(idleTimer);\n            if (webviewPanel) webviewPanel.dispose();\n        }\n    }));\n\n    context.subscriptions.push(vscode.commands.registerCommand('screenSaver.test', () => {\n        showScreenSaver(context);\n    }));\n\n    resetIdleTimer();\n}\n\nexport function deactivate() {\n    if (webviewPanel) webviewPanel.dispose();\n    if (idleTimer) clearTimeout(idleTimer);\n    resetIdleTimerRef = undefined;\n}\n\n// --- Fallback helpers ---\nfunction getRandomFallbackSnippet(preferredLanguageId?: string): { code: string; languageId: string } {\n    const basePool = codePackSnippets.length > 0\n        ? codePackSnippets\n        : Array.from(BUILT_IN_FALLBACK_SNIPPETS);\n    const normalized = preferredLanguageId ? normalizeLanguageId(preferredLanguageId) : undefined;\n    const filtered = normalized ? basePool.filter(s => normalizeLanguageId(s.languageId) === normalized) : [];\n    const pool = filtered.length > 0 ? filtered : basePool;\n    if (pool.length === 0) {\n        return BUILT_IN_FALLBACK_SNIPPETS[0];\n    }\n    return pool[Math.floor(Math.random() * pool.length)];\n}\n\nfunction loadCodePackSnippets(context: vscode.ExtensionContext): void {\n    try {\n        const jsonUri = vscode.Uri.joinPath(context.extensionUri, 'docs', 'code-pack.json');\n        const mdUri = vscode.Uri.joinPath(context.extensionUri, 'docs', 'code-pack.md');\n\n        if (fs.existsSync(jsonUri.fsPath)) {\n            const json = fs.readFileSync(jsonUri.fsPath, 'utf8');\n            codePackSnippets = parseCodePackJson(json);\n        } else if (fs.existsSync(mdUri.fsPath)) {\n            const md = fs.readFileSync(mdUri.fsPath, 'utf8');\n            codePackSnippets = parseCodePackMarkdown(md);\n        } else {\n            codePackSnippets = [];\n        }\n    } catch (error) {\n        codePackSnippets = [];\n        logWithTimestamp('Failed to parse code-pack content.', 'warn', error);\n    }\n\n    if (codePackSnippets.length === 0) {\n        logWithTimestamp('No code-pack entries detected. Using built-in fallback snippets.', 'warn');\n    }\n}\n\nfunction parseCodePackMarkdown(md: string): { code: string; languageId: string }[] {\n    const results: { code: string; languageId: string }[] = [];\n    const seen = new Set<string>();\n\n    // Extract fenced code blocks ```lang\\n...\\n```\n    const fenceRe = /```([A-Za-z0-9_+-]+)?\\n([\\s\\S]*?)```/g;\n    let m: RegExpExecArray | null;\n    while ((m = fenceRe.exec(md)) !== null) {\n        const langRaw = (m[1] || 'plaintext').trim();\n        const lang = normalizeLanguageId(langRaw);\n        const code = m[2];\n        if (code.trim().length > 0) {\n            const key = `${lang}::${code}`;\n            if (!seen.has(key)) {\n                seen.add(key);\n                results.push({ code, languageId: lang });\n            }\n        }\n    }\n\n    // Extract simple bullet lines as plaintext snippets from non-code sections\n    // Keep it lightweight to avoid over-parsing. Ignore lines inside code fences.\n    const lines = md.split(/\\r?\\n/);\n    let insideFence = false;\n    for (const line of lines) {\n        if (line.startsWith('```')) {\n            insideFence = !insideFence;\n            continue;\n        }\n        if (insideFence) continue;\n        const trimmed = line.trim();\n        if (trimmed.startsWith('- ')) {\n            const text = trimmed.slice(2).trim();\n            if (text) {\n                const key = `plaintext::${text}`;\n                if (!seen.has(key)) {\n                    seen.add(key);\n                    results.push({ code: text, languageId: 'plaintext' });\n                }\n            }\n        }\n    }\n\n    return results;\n}\n\nfunction parseCodePackJson(json: string): { code: string; languageId: string }[] {\n    const results: { code: string; languageId: string }[] = [];\n    const seen = new Set<string>();\n\n    let parsed: any;\n    try {\n        parsed = JSON.parse(json);\n    } catch (error) {\n        logWithTimestamp('Invalid JSON in code-pack.', 'warn', error);\n        return results;\n    }\n\n    const entries: any[] = Array.isArray(parsed)\n        ? parsed\n        : Array.isArray(parsed?.entries)\n            ? parsed.entries\n            : [];\n\n    const pushEntry = (raw: any) => {\n        if (!raw) {\n            return;\n        }\n        const codeValue = typeof raw.code === 'string'\n            ? raw.code\n            : typeof raw.text === 'string'\n                ? raw.text\n                : undefined;\n        if (!codeValue) {\n            return;\n        }\n        const langRaw = typeof raw.languageId === 'string'\n            ? raw.languageId\n            : typeof raw.language === 'string'\n                ? raw.language\n                : typeof raw.lang === 'string'\n                    ? raw.lang\n                    : 'plaintext';\n        const normalized = normalizeLanguageId(langRaw);\n        const key = `${normalized}::${codeValue}`;\n        if (seen.has(key)) {\n            return;\n        }\n        seen.add(key);\n        results.push({ code: codeValue, languageId: normalized });\n    };\n\n    for (const entry of entries) {\n        if (Array.isArray(entry?.variants)) {\n            for (const variant of entry.variants) {\n                pushEntry({ ...entry, ...variant, variants: undefined });\n            }\n        } else {\n            pushEntry(entry);\n        }\n    }\n\n    return results;\n}\n"],
  "mappings": "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",
  "names": []
}
